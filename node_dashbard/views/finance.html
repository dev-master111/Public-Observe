<!DOCTYPE html>
<html lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <!-- Meta, title, CSS, favicons, etc. -->
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>Observe | </title>

    <link href='/libs/bootstrap/css/bootstrap.min.css' rel='stylesheet'>
    <link href='/libs/font-awesome/css/font-awesome.min.css' rel='stylesheet'>
    <link href='/libs/bootstrap/css/daterangepicker.css' rel='stylesheet'>
    <link href='/css/custom.min.css' rel='stylesheet'>

    <script src='/libs/jquery/jquery.min.js'></script>
    <script src='/libs/bootstrap/js/bootstrap.min.js'></script>
    <script src='/libs/fastclick/fastclick.js'></script>
    <script src='/libs/nprogress/nprogress.js'></script>
    <script src='/libs/ChartJS/Chart.min.js'></script>
    <script src='/libs/jquery/jquery.sparkline.min.js'></script>
    <script src='/libs/Flot/jquery.flot.js'></script>
    <script src='/libs/Flot/jquery.flot.pie.js'></script>
    <script src='/libs/Flot/jquery.flot.time.js'></script>
    <script src='/libs/Flot/jquery.flot.stack.js'></script>
    <script src='/libs/Flot/jquery.flot.resize.js'></script>
    <script src='/libs/Flot/jquery.flot.orderBars.js'></script>
    <script src='/libs/Flot/jquery.flot.spline.min.js'></script>
    <script src='/libs/Flot/curvedLines.js'></script>
    <script src='/libs/DateJS/date.js'></script>
    <script src='/libs/moment/moment.min.js'></script>
    <script src='/libs/bootstrap/js/daterangepicker.js'></script>
    <script src='/js/custom.min.js'></script>

  </head>


  <nav class="navbar navbar-default" style="margin-top:6px">
    <div class="container-fluid">
      <div class="navbar-header">
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#myNavbar">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
      </div>
      <div class="collapse navbar-collapse" id="myNavbar">
        <ul class="nav navbar-nav">
          <li><a href="camera_dashboard">Overview</a></li>
          <li><a href="live">Live</a></li>
          <li class="active"><a href="finance">Growth Data</a></li>
          <li><a href="logs">Historical Logs</a></li>
        </ul>
        <ul class="nav navbar-nav navbar-right">
          <li class="">
            <a href="javascript:;" class="user-profile dropdown-toggle" data-toggle="dropdown" aria-expanded="false">
              Alistdair Binning
              <span class=" fa fa-angle-down"></span>
            </a>
            <ul class="dropdown-menu dropdown-usermenu pull-right">
              <li><a href="javascript:;"> Profile</a></li>
              <li>
                <a href="javascript:;">
                  <span>Settings</span>
                </a>
              </li>
              <li><a href="index.html"><i class="fa fa-sign-out pull-right"></i> Log Out</a></li>
            </ul>
          </li>

          <li role="presentation" class="dropdown">
            <a href="javascript:;" class="dropdown-toggle info-number" data-toggle="dropdown" aria-expanded="false">
              <i class="fa fa-bell-o"></i>
              <span class="badge bg-green">1</span>
            </a>
            <ul id="menu1" class="dropdown-menu list-unstyled msg_list" role="menu">
              <li>
                <a href="singleCam_dashboard_bad.html">
                  <span class="image"></span>
                  <span>
                    <strong>Cage #76413</strong></span>
                    <span class="time">3 mins ago</span>
                  </span>
                  <span class="message">
                  Drop in dissolved oxygen - fish swimming quicker. <strong>Reduce feed</strong>
                  </span>
                </a>
              </li>
              <li>
                <div class="text-center">
                  <a>
                    <strong>See All Alerts</strong>
                    <i class="fa fa-angle-right"></i>
                  </a>
                </div>
              </li>
            </ul>
          </li>
        </ul>
      </div>
    </div>
  </nav>

</br>
<!-- page content -->
<div class="right_col" role="main">
  <div class="">
    <div class="row">
      <div class="col-md-12">
        <div class="x_panel">
          <div class="x_title">
             <h2>Feed Cost <small>Weekly</small></h2>
            <div class="filter">
              <div id="reportrange" class="pull-right" style="background: #fff; cursor: pointer; padding: 5px 10px; border: 1px solid #ccc">
                <i class="glyphicon glyphicon-calendar fa fa-calendar"></i>
                <span>December 30, 2016 - January 28, 2017</span> <b class="caret"></b>
              </div>
            </div>
            <div class="clearfix"></div>
          </div>
          <div class="x_content">
            <div class="col-md-12 col-sm-12 col-xs-12">
              <div class="demo-container" style="height:280px">
                <div id="placeholder33x" class="demo-placeholder"></div>
              </div>
              <div class="tiles">
                <div class="col-md-4 tile">
                 <span>Average weekly Biomass</span>
                  <h2>4kg</h2>
                  <span class="sparklineBiomass" style="height: 160px;">
                                  <canvas width="200" height="60" style="display: inline-block; vertical-align: top; width: 94px; height: 30px;"></canvas>
                              </span>
                </div>
                <div class="col-md-4 tile">
                 <span>Total Annual Feed Cost</span>
                  <h2>£100,809</h2>
                  <span class="sparkline11 graph" style="height: 160px;">
                                  <canvas width="200" height="60" style="display: inline-block; vertical-align: top; width: 94px; height: 30px;"></canvas>
                              </span>
                </div>
                <div class="col-md-4 tile">
                 <span>Estimated Cage Revenue</span>
                  <h2>£250,809</h2>
                  <span class="sparklineEstRev graph" style="height: 160px;">
                                  <canvas width="200" height="60" style="display: inline-block; vertical-align: top; width: 94px; height: 30px;"></canvas>
                              </span>
                </div>
              </div>

            </div>



          </div>
        </div>
      </div>
    </div>



    <div class="row">
      <div class="col-md-12">
        <div class="x_panel">
          <div class="x_title">
            <h2>Weekly Perfromance <small>Costs</small></h2>
            <ul class="nav navbar-right panel_toolbox">
              <li><a class="collapse-link"><i class="fa fa-chevron-up"></i></a>
              </li>
              <li class="dropdown">
                <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false"><i class="fa fa-wrench"></i></a>
                <ul class="dropdown-menu" role="menu">
                  <li><a href="#">Settings 1</a>
                  </li>
                  <li><a href="#">Settings 2</a>
                  </li>
                </ul>
              </li>
              <li><a class="close-link"><i class="fa fa-close"></i></a>
              </li>
            </ul>
            <div class="clearfix"></div>
          </div>
          <div class="x_content">

           <div class="row" style="border-bottom: 1px solid #E0E0E0; padding-bottom: 5px; margin-bottom: 5px;">
              <h4 style="margin:18px">Differential cost of feed put in to amount recommended</h4>
              <div class="col-md-7" style="overflow:hidden;">
                <span class="sparkline_one" style="height: 160px; padding: 10px 25px;">
                              <canvas width="200" height="60" style="display: inline-block; vertical-align: top; width: 94px; height: 30px;"></canvas>
                          </span>
              </div>

             <div class="col-md-5">
                <h4 style="margin:18px"  text-align:center;><large><h2>Weekly amount saved:</h2> <h1 "color=green">£1000</h1></large>
                </div>
            </div>
          </div>
        </div>
      </div>
    </div>

<!-- /page content -->

<!-- footer content -->

<!-- /footer content -->
</div>
</div>

<script>
$(document).ready(function() {
//define chart clolors ( you maybe add more colors if you want or flot will add it automatic )
var chartColours = ['#96CA59', '#3F97EB', '#72c380', '#6f7a8a', '#f7cb38', '#5a8022', '#2c7282'];

//generate random number for charts


var d1 = [];
//var d2 = [];

//here we generate data for chart
for (var i = 0; i < 30; i++) {
  d1.push([new Date(Date.today().add(i).days()).getTime(), (Math.random()*50 + 30)*i+ 100]);
  //    d2.push([new Date(Date.today().add(i).days()).getTime(), randNum()]);
}

var chartMinDate = d1[0][0]; //first day
var chartMaxDate = d1[20][0]; //last day

var tickSize = [1, "day"];
var tformat = "%d/%m/%y";

//graph options
var options = {
  grid: {
    show: true,
    aboveData: true,
    color: "#3f3f3f",
    labelMargin: 10,
    axisMargin: 0,
    borderWidth: 0,
    borderColor: null,
    minBorderMargin: 5,
    clickable: true,
    hoverable: true,
    autoHighlight: true,
    mouseActiveRadius: 100
  },
  series: {
    lines: {
      show: true,
      fill: true,
      lineWidth: 2,
      steps: false
    },
    points: {
      show: true,
      radius: 4.5,
      symbol: "circle",
      lineWidth: 3.0
    }
  },
  legend: {
    position: "ne",
    margin: [0, -25],
    noColumns: 0,
    labelBoxBorderColor: null,
    labelFormatter: function(label, series) {
      // just add some space to labes
      return label + '&nbsp;&nbsp;';
    },
    width: 40,
    height: 1
  },
  colors: chartColours,
  shadowSize: 0,
  tooltip: true, //activate tooltip
  tooltipOpts: {
    content: "%s: %y.0",
    xDateFormat: "%d/%m",
    shifts: {
      x: -30,
      y: -50
    },
    defaultTheme: false
  },
  yaxis: {
    min: 0
  },
  xaxis: {
    mode: "time",
    minTickSize: tickSize,
    timeformat: tformat,
    min: chartMinDate,
    max: chartMaxDate
  }
};
var plot = $.plot($("#placeholder33x"), [{
  label: "Cost of feedings session",
  data: d1,
  lines: {
    fillColor: "rgba(150, 202, 89, 0.12)"
  }, //#96CA59 rgba(150, 202, 89, 0.42)
  points: {
    fillColor: "#fff"
  }
}], options);


 function showTooltip(x, y, contents) {
if( clicksYet )
    contents += (pointClicked)? ' hello':' bye';

$('<div id="tooltip">' + contents + '</div>').css( {
    position: 'absolute',
    display: 'none',
    top: y + 5,
    left: x + 5,
    border: '1px solid #34495E',
    padding: '2px',
    'background-color': '#34495E',
    color:'white',




    opacity: 1
}).appendTo("body").fadeIn(200);
}

$('body').popover({
  selector: '[data-popover]',
  trigger: 'click hover',
  delay: {
    show: 50,
    hide: 400
  }
});

var previousPoint = null;
$("#placeholder33x").bind("plothover", function (event, pos, item) {
    // $("#x").text(pos.x.toFixed(2));
    // $("#y").text(pos.y.toFixed(2));

        if (item) {
            if (previousPoint != item.datapoint) {
                previousPoint = item.datapoint;

                $("#tooltip").remove();
                var x = item.datapoint[0].toFixed(2),
                    y = item.datapoint[1].toFixed(2);

                showTooltip(item.pageX, item.pageY,
                            "Cost: £" + y + " </br> Type: 2.0 Optimum </br> Feeder: Alistdair Binning" );
            }
        }
        else {
            $("#tooltip").remove();
            clicksYet = false;
            previousPoint = null;
        }
});

});
</script>
<!-- /Flot -->

<!-- jQuery Sparklines -->
<script>
$(document).ready(function() {
$(".sparkline_one").sparkline([0.2, -0.4, 0.5, 0.1, 0.2, 0.4, -0.5, 0.4, -0.3, 0.4, -0.5, 0.6, 0.4, 0.5, 0.6, -0.3, 0.5, 0.4, -0.5, 0.4, -0.5, 0.4, -0.3, 0.4, 0.5, 0.6, -0.7, 0.5, 0.4, 0.3, -0.5, 0.6], {
  type: 'bar',
  height: '125',
  barWidth: 13,
  colorMap: {
    '7': '#a1a1a1'
  },
  barSpacing: 2,
  barColor: '#26B99A'
});

$(".sparklineBiomass").sparkline([2.45, 2.56, 2.69, 2.78, 2.9, 3.1, 3.3, 3.4, 3.7, 3.9, 4.2, 4.2, 4, 4.2, 3.98, 4.1, 4.12, 4.06, 4 ], {
  type: 'bar',
  height: '40',
  barWidth: 8,
  colorMap: {
    '7': '#a1a1a1'
  },
  barSpacing: 2,
  barColor: '#26B99A'
});

 $(".sparkline11").sparkline([6, 4, 6, 4, 5, 4, 5, 4, 3, 4, 6, 2, 4, 3, 4, 5, 4, 5, 4, 3], {
  type: 'bar',
  height: '40',
  barWidth: 8,
  colorMap: {
    '7': '#a1a1a1'
  },
  barSpacing: 2,
  barColor: '#26B99A'
});




$(".sparkline22").sparkline([2, 4, 3, 4, 7, 5, 4, 3, 5, 6, 2, 4, 3, 4, 5, 4, 5, 4, 3, 4, 6], {
  type: 'line',
  height: '40',
  width: '200',
  lineColor: '#26B99A',
  fillColor: '#ffffff',
  lineWidth: 3,
  spotColor: '#34495E',
  minSpotColor: '#34495E'
});

 $(".sparklineEstRev").sparkline([150, 174, 162, 178, 200, 190, 150, 205, 200, 210, 215, 217, 216, 217, 220, 225, 229, 230, 235, 236, 232], {
  type: 'line',
  height: '40',
  width: '200',
  lineColor: '#26B99A',
  fillColor: '#ffffff',
  lineWidth: 3,
  spotColor: '#34495E',
  minSpotColor: '#34495E'
});


});
</script>
<!-- /jQuery Sparklines -->

<!-- Doughnut Chart -->
<script>
$(document).ready(function() {
var canvasDoughnut,
    options = {
      legend: false,
      responsive: false
    };

new Chart(document.getElementById("canvas1i"), {
  type: 'doughnut',
  tooltipFillColor: "rgba(51, 51, 51, 0.55)",
  data: {
    labels: [
      "Symbian",
      "Blackberry",
      "Other",
      "Android",
      "IOS"
    ],
    datasets: [{
      data: [15, 20, 30, 10, 30],
      backgroundColor: [
        "#BDC3C7",
        "#9B59B6",
        "#E74C3C",
        "#26B99A",
        "#3498DB"
      ],
      hoverBackgroundColor: [
        "#CFD4D8",
        "#B370CF",
        "#E95E4F",
        "#36CAAB",
        "#49A9EA"
      ]

    }]
  },
  options: options
});

new Chart(document.getElementById("canvas1i2"), {
  type: 'doughnut',
  tooltipFillColor: "rgba(51, 51, 51, 0.55)",
  data: {
    labels: [
      "Symbian",
      "Blackberry",
      "Other",
      "Android",
      "IOS"
    ],
    datasets: [{
      data: [15, 20, 30, 10, 30],
      backgroundColor: [
        "#BDC3C7",
        "#9B59B6",
        "#E74C3C",
        "#26B99A",
        "#3498DB"
      ],
      hoverBackgroundColor: [
        "#CFD4D8",
        "#B370CF",
        "#E95E4F",
        "#36CAAB",
        "#49A9EA"
      ]

    }]
  },
  options: options
});

new Chart(document.getElementById("canvas1i3"), {
  type: 'doughnut',
  tooltipFillColor: "rgba(51, 51, 51, 0.55)",
  data: {
    labels: [
      "Symbian",
      "Blackberry",
      "Other",
      "Android",
      "IOS"
    ],
    datasets: [{
      data: [15, 20, 30, 10, 30],
      backgroundColor: [
        "#BDC3C7",
        "#9B59B6",
        "#E74C3C",
        "#26B99A",
        "#3498DB"
      ],
      hoverBackgroundColor: [
        "#CFD4D8",
        "#B370CF",
        "#E95E4F",
        "#36CAAB",
        "#49A9EA"
      ]

    }]
  },
  options: options
});
});
</script>
<!-- /Doughnut Chart -->

<!-- bootstrap-daterangepicker -->
<script type="text/javascript">
$(document).ready(function() {

var cb = function(start, end, label) {
  console.log(start.toISOString(), end.toISOString(), label);
  $('#reportrange span').html(start.format('MMMM D, YYYY') + ' - ' + end.format('MMMM D, YYYY'));
};

var optionSet1 = {
  startDate: moment().subtract(29, 'days'),
  endDate: moment(),
  minDate: '01/01/2012',
  maxDate: '12/31/2015',
  dateLimit: {
    days: 60
  },
  showDropdowns: true,
  showWeekNumbers: true,
  timePicker: false,
  timePickerIncrement: 1,
  timePicker12Hour: true,
  ranges: {
    'Today': [moment(), moment()],
    'Yesterday': [moment().subtract(1, 'days'), moment().subtract(1, 'days')],
    'Last 7 Days': [moment().subtract(6, 'days'), moment()],
    'Last 30 Days': [moment().subtract(29, 'days'), moment()],
    'This Month': [moment().startOf('month'), moment().endOf('month')],
    'Last Month': [moment().subtract(1, 'month').startOf('month'), moment().subtract(1, 'month').endOf('month')]
  },
  opens: 'left',
  buttonClasses: ['btn btn-default'],
  applyClass: 'btn-small btn-primary',
  cancelClass: 'btn-small',
  format: 'MM/DD/YYYY',
  separator: ' to ',
  locale: {
    applyLabel: 'Submit',
    cancelLabel: 'Clear',
    fromLabel: 'From',
    toLabel: 'To',
    customRangeLabel: 'Custom',
    daysOfWeek: ['Su', 'Mo', 'Tu', 'We', 'Th', 'Fr', 'Sa'],
    monthNames: ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December'],
    firstDay: 1
  }
};
$('#reportrange span').html(moment().subtract(29, 'days').format('MMMM D, YYYY') + ' - ' + moment().format('MMMM D, YYYY'));
$('#reportrange').daterangepicker(optionSet1, cb);
$('#reportrange').on('show.daterangepicker', function() {
  console.log("show event fired");
});
$('#reportrange').on('hide.daterangepicker', function() {
  console.log("hide event fired");
});
$('#reportrange').on('apply.daterangepicker', function(ev, picker) {
  console.log("apply event fired, start/end dates are " + picker.startDate.format('MMMM D, YYYY') + " to " + picker.endDate.format('MMMM D, YYYY'));
});
$('#reportrange').on('cancel.daterangepicker', function(ev, picker) {
  console.log("cancel event fired");
});
$('#options1').click(function() {
  $('#reportrange').data('daterangepicker').setOptions(optionSet1, cb);
});
$('#options2').click(function() {
  $('#reportrange').data('daterangepicker').setOptions(optionSet2, cb);
});
$('#destroy').click(function() {
  $('#reportrange').data('daterangepicker').remove();
});
});
</script>
<!-- /bootstrap-daterangepicker -->
</body>
</html>
